#!/usr/bin/env php
<?php

use DannyXCII\EnvironmentManager\Classes\EnvironmentManager;
use DannyXCII\EnvironmentManager\Classes\Writer;

$localAutoloadPath = sprintf('%s/vendor/autoload.php', dirname(__DIR__));
$installedAutoloadPath = sprintf('%s/autoload.php', dirname(__DIR__, 3));

if (file_exists($localAutoloadPath)) {
    require $localAutoloadPath;
} else {
    require $installedAutoloadPath;
}

$writer = new Writer();

try {
    $writer->writeInfo('PHP Environment', true);
    (new EnvironmentManager($argv, $writer))->execute();
} catch (\Exception $exception) {
    $writer->writeError(sprintf('Something went wrong: %s', $exception->getMessage()));
}